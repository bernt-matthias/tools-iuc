<tool id="phyloseq_from_biom" name="Create phyloseq object" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
  <description>from a BIOM file</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="bio_tools"/>
    <expand macro="requirements"/>
    <command detect_errors="exit_code"><![CDATA[
Rscript '${__tool_directory__}/phyloseq_from_biom.R' 
    --BIOMfilename $BIOMfilename
    #if $treefilename
        --treefilename $treefilename
        --parseFunction $parseFunction
    #end if
    #if $refseqfilename
        --refseqfilename $refseqfilename
    #end if
    --output '$output'
    ]]></command>
    <inputs>
        <param argument="BIOMfilename" type="data" format="biom1,biom2" label="BIOM file" help=""/>
        <param argument="treefilename" type="data" format="nex,newick" optional="true" label="Phylogeny" help=""/>
        <param name="parseFunction" type="select" label="Tree label parser" help="">
            <option value="parse_taxonomy_default">Default</option>
            <option value="read_tree_greengenes">Greengenes</option>
        </param>
        <param argument="refseqfilename" type="data" format="fasta" optional="true" label="Sequences" help=""/>
    </inputs>
    <outputs>
        <data name="output" format="phyloseq"/>
    </outputs>
    <tests>
        <test>
        </test>
    </tests>
    <help>
**What it does**

Read a BIOM file (and optionally sequences and a phylogeny) and store them in a phyloseq object.
    </help>
    <expand macro="citations"/>
</tool>

